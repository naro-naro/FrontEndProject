<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    .image-list img{
      width: 300px;
    }
  </style>
  <title>HODU</title>
  <link href="hodu.css" type="text/css" rel="stylesheet">
</head>


<body>
  <header>
    <section class="header-section-navibar">
      <img src="Logo-fin.png" class="img-logo">

      <section class = "navi">
        <a href="" class="top-nav">Home</a>
        <a href="" class="top-nav">About</a>
        <a href="" class="top-nav">Support</a>
        <a href="" download class="orange-button">Download</a>
      </section>
    </section>


    <section class="header-content">
      <section class="header-section-text">
        <h1>Lorem Ipsum is simply<br>dummy text of the printing and</h1>
        <p>Lorem Ipsum is simply dummy text of the printing and</p>
        <p>typesetting industry.</p>
        <p>Lorem Ipsum has been the industry's standard dummy text</p>
        <p>ever since the 1500s, when an unknown</p><br><br>
        <a href="" download class="orange-button">Download</a>
      </section>
      <img src="img_cat_png.png" class="header-img">
    </section>
  </header>

  <!-- ------------------------------------------------------------------------- -->

  <main>
    <section class="main-section1">
      <img src="img_4.png">
      <h2>Lorem Ipsum is simply<br>dummy text of the printing<br>and dummy text</h2>
      <p>Lorem Ipsum is simply dummy text of the printing and typesetting<br>industry. </p>
    </section>
    <section class="main-section2">
      <h2>dummy text of the printing and dummy</h2>
      <p>Lorem Ipsum is simply <strong>dummy </strong>text of the printing and typesetting industry.</p>
      <p>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown</p>
      
      <!-- 이미지 픽섬에서 불러오기 -->
      <!-- <h1>picsum images</h1>
      <ul class="image-list">

      </ul>
     <script>
        const imageList = document.querySelector(".image-list");
        let pageToFetch = 1;
        async function fetchImages(pageNum){
          try {
            const response = await fetch('https://picsum.photos/v2/list?page='+pageNum+'&limit=10');
            if (!response.ok) {
              throw new Error('네트워크 응답에 문제가 있습니다.');
            }

            const datas = await response.json();
            console.log(datas);

            makeImageList(datas);

          } catch (error) {
            console.error('데이터를 가져오는데 문제가 발생했습니다 :', error);
          }
        }

        // html리스트를 만들어주는 함수
        function makeImageList(datas){
          datas.forEach((item)=>{
              imageList.innerHTML += "<li><img src ="+ item.download_url +" alt=''></li>";
            }

          )


        }

        window.addEventListener('scroll', ()=>{
          // 스크롤이 상단으로 얼마나 이동했는지 알아야 하고 (사용자가 보는 뷰포트의 높이+스크롤 한 높이)
          // 화면에 로딩된 페이지의 전체 높이도 알아야 한다
          // 뷰포트의 높이+스크롤 한 높이 + 여분 5~10px === 화면에 로딩된 페이지의 전체 높이

          if(window.innerHeight + document.documentElement.scrollTop + 10 >= document.documentElement.offsetHeight){
            fetchImages(pageToFetch += 1);
             // 문제1 로딩이 한번에 너무 많이 됨 -> 느림
            // 문제2 바텀이 너무 맣이 찍힘 - 줄여야함 스크롤 감지를 무디게 해야함 (스로틀링/쓰롯틀링 서치해보기)

          }
        })
        // 스로틀링 
                    // function throttle(func, delay) {
                    //   let timerId;
                    //   return function() {
                    //     const context = this;
                    //     const args = arguments;
                    //     if (!timerId) {
                    //       timerId = setTimeout(() => {
                    //         func.apply(context, args);
                    //         timerId = null;
                    //       }, delay);
                    //     }
                    //   }
                    // }
        // 위의 코드에서는 throttle 함수를 정의하여 이벤트 핸들러 함수와 딜레이 시간을 전달하면 쓰로틀링이 적용된 새로운 함수를 반환합니다.
        // 이 새로운 함수는 일정 시간이 지나기 전에는 이벤트 핸들러 함수를 실행하지 않습니다.


        // fetchImages();
        // throttle(festImages, 2); -->

      </script>
      <p>Continue exploring HODU </p>
      <a href="" class="orange-button">Show more</a>
    </section>
    <section class="main-section3">
      <h2>Where you'll be</h2>
      <p>주소</p>
      <!-- 지도를 표시할 div 입니다 -->
       <!-- <div id="map" style="width:100%;height:350px;"></div>

      <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=82360c9def6f192c97cbf60ca5a8cbaf"></script>
      <script>
        var mapContainer = document.getElementById('map'), // 지도를 표시할 div
          mapOption = {
            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
          };

        // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
        var map = new kakao.maps.Map(mapContainer, mapOption); -->
      </script>
    </section>
    <section class="main-section4">
      <div>
        <img src="img_5.png">
      </div>
      <img src="scroll-top-btn.png" class="scroll-button">
    </section>

    <section class="main-section5">
      <h2>Subscribe to our Blog post</h2>
      <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetuer</p>
      <textarea><img src=></textarea>
      <a href="" class="orange-button"></a>
    </section>
  </main>


  <footer>
    <img src="Logo-fin.png" class="img-logo">
    <section class="navi">
      <a href=""><img src="icon-blog.png"></a>
      <a href=""><img src="icon-insta.png"></a>
      <a href=""><img src="icon-facebook.png"></a>
      <a href=""><img src="icon-youtube.png"></a>
    </section>
  </footer>

</body>
</html>
